WHAT IT IS
----------

This is the first public release of the source code for Fluendo's
"Cortado" Java media player.  The player can be used as an applet to play
back files and network streams.  It was created to integrate with
the Flumotion Streaming Server.

This first release has support for
- local files and network streams
- Ogg and Multipart containers
- Theora, JPEG and Smoke video codecs
- Vorbis and MuLaw audio codecs
- 1.1 javasound API
- 1.4 javax sound API
- basic HTTP authentication
- buffering

The build setup is still a little bit shaky, combining ant build stuff
with a standard Makefile.  We could use a little help there.

BUGS
----

You can file bugs at Fluendo's issue tracker:
https://core.fluendo.com/tracker

Make sure to choose the "cortado" component.

BUILDING
--------

Example build on Fedora Core 2 with jikes installed:

- build the applet with Ogg, Vorbis and Theora:
CLASSPATH=/usr/share/java/libgcj-3.4.0.jar make ovt

- build the applet with Multipart, Mulaw, JPEG and smoke:
CLASSPATH=/usr/share/java/libgcj-3.4.0.jar make mmjs


USAGE
-----

Embed the applet in a web page with code like this:

<html>
 <head>
 </head>
 <body>
   <applet code="com.fluendo.player.Cortado.class" 
           archive="cortado.jar" 
	   width="352" height="288">
     <param name="url" value="http://localhost/test6.ogg"/>
     <param name="framerate" value="29"/>
     <param name="keepAspect" value="true"/>
     <param name="video" value="true"/>
     <param name="audio" value="true"/>
     <param name="bufferSize" value="100"/>
     <param name="userId" value="user"/>
     <param name="password" value="test"/>
   </applet>
 </body>
</html>


parameters:
-----------

  url:        the URL to load, must be a fully qualified URL.

  framerate:  the target framerate for the video playback for formats
              (multipart) that do not have a framerate embedded in the stream.
              This property is ignored on ogg streams.
              This value can be any floating point value.

  keepAspect: Try to keep the natural aspect of the video when resizing the
              applet window. true or false.

  video:      Use video. When not using video, this property will not create
              resources to play a video stream. true or false.
	      
  audio:      Use audio. When not using audio, this property will not create
              resources to play an audio stream. true or false.

  bufferSize: The size of the network buffer.
              A good value is Kbps of the stream * 33

  userId:     user id for basic authentication.

  password:   password for basic authentication.
	      

Using javascript
----------------

The applet parameters can be changed from javascript by calling the setParam(key, value)
on the applet. After setting the new parameters in the applet it needs to be restarted
with the restart() method for the changes to take effect.

The following piece of HTML demonstrates switching URLs with an without sound using 
javascript:

<html>
 <head>
 </head>
 <body>
   <script language="javascript">
     function restart() {
       document.applets[0].restart(); 
     }
     function loadUrl(uri, audio) {
       document.applets[0].setParam("audio", audio); 
       document.applets[0].setParam("url", uri); 
       restart();
     }
   </script>
   <applet archive="cortado.jar" code="com.fluendo.player.Cortado.class" width="320" height="240"> 
     <param name="url" value="http://localhost:8800"/>
     <param name="local" value="false"/>
     <param name="framerate" value="5.0"/>
     <param name="keepaspect" value="true"/>
     <param name="video" value="true"/>
     <param name="audio" value="true"/>
   </applet>

   <br/>
   <br/>

   <button onClick="restart()">
    Restart
   </button>
   <button onClick="loadUrl('http://localhost:8800', 'true')">
    With Audio
   </button>
   <button onClick="loadUrl('http://localhost:8802', 'false')">
    Without Audio
   </button>
   
 </body>
</html>
